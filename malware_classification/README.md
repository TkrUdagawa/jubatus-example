# マルウェア分類

## 概要

Jubatusのjubaclassifierを使ったマルウェア分類のサンプルです。
以下の論文のデータセットを使用します。

Automatic Analysis of Malware Behavior using Machine Learning
http://pi1.informatik.uni-mannheim.de/malheur/

## データ

csvと対応するMIST形式のファイルをダウンロードします。

http://pi1.informatik.uni-mannheim.de/malheur/


## プラグインのインストール

```
$ cd word_ngram_plugin
$ ./waf configure
$ ./waf
$ sudo ./waf install
```

## ビルド

```
$ ./waf configure
$ ./waf
```

## 実行

libword_ngramプラグインのパスをconfig.jsonに指定する。

### サーバの起動

```
$ jubaclassifier --configpath config.json
```

### 学習

第一引数にcsv、第二引数にcsvに対応するMIST形式のファイルが格納されたディレクトリを指定します。

```
$ ./build/ml_train /path_to/malheur/reference/reference.csv /path_to/malheur/reference/refset
```

### 分類

引数は学習と同様です。
分類結果は標準出力に1ファイル1行ごとにJSONフォーマットで出力されます。

```
$ ./build/ml_classify /path_to/malheur/2009xxxx.csv /path/to/malheur/2009xxxx_mist_dir
```


